<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>又瘦了三斤</title>
  
  
  <link href="https://blog.zhangcun.store/atom.xml" rel="self"/>
  
  <link href="https://blog.zhangcun.store/"/>
  <updated>2022-07-01T07:32:28.269Z</updated>
  <id>https://blog.zhangcun.store/</id>
  
  <author>
    <name>张存</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Ubuntu下keepalived和nginx实现高可用性负载均衡</title>
    <link href="https://blog.zhangcun.store/2022/07/01/ubuntu-xia-keepalived-he-nginx-shi-xian-gao-ke-yong-xing-fu-zai-jun-heng/"/>
    <id>https://blog.zhangcun.store/2022/07/01/ubuntu-xia-keepalived-he-nginx-shi-xian-gao-ke-yong-xing-fu-zai-jun-heng/</id>
    <published>2022-07-01T07:20:44.000Z</published>
    <updated>2022-07-01T07:32:28.269Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;概述&lt;br&gt;    1. 前导知识&lt;br&gt;    Ubuntu安装keepalived&lt;br&gt;    Ubuntu安装nginx并配置负载均衡&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;2.</summary>
        
      
    
    
    
    
  </entry>
  
  <entry>
    <title>kubeadm安装k8s</title>
    <link href="https://blog.zhangcun.store/2022/07/01/kubeadm-an-zhuang-k8s/"/>
    <id>https://blog.zhangcun.store/2022/07/01/kubeadm-an-zhuang-k8s/</id>
    <published>2022-07-01T07:11:08.000Z</published>
    <updated>2022-07-01T07:11:13.498Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;pre&gt;&lt;code&gt;1、环境说明

复制代码
操作系统: Ubuntu 18.04
docker版本: 19.03
k8s版本: 1.18.2
etcd版本: 3.4.3
coredns版本: 1.6.7
flannel版本: v0.13.0
复制代码
</summary>
        
      
    
    
    
    
  </entry>
  
  <entry>
    <title>docker-compose ports 与 expose 的区别</title>
    <link href="https://blog.zhangcun.store/2022/06/30/docker-compose-ports-yu-expose-de-qu-bie/"/>
    <id>https://blog.zhangcun.store/2022/06/30/docker-compose-ports-yu-expose-de-qu-bie/</id>
    <published>2022-06-30T08:50:43.000Z</published>
    <updated>2022-06-30T08:50:45.817Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;pre&gt;&lt;code&gt;docker-compose中有两种方式可以暴露容器的端口：ports和expose。

ports

ports暴露容器端口到主机的任意端口或指定端口，用法：

ports:
  
- &amp;quot;80:80&amp;quot; #</summary>
        
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Zabbix unreachable poller processes more than 75% busy</title>
    <link href="https://blog.zhangcun.store/2022/06/30/zabbix-unreachable-poller-processes-more-than-75-busy/"/>
    <id>https://blog.zhangcun.store/2022/06/30/zabbix-unreachable-poller-processes-more-than-75-busy/</id>
    <published>2022-06-30T08:41:10.000Z</published>
    <updated>2022-06-30T08:41:22.171Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Zabbix unreachable poller processes more than 75% busy&lt;br&gt;1.通过Zabbix agent采集数据的设备处于moniting的状态但是此时机器死机或其他原因导致zabbix</summary>
        
      
    
    
    
    
  </entry>
  
  <entry>
    <title>docker-compose 部署apollo springboot整合（多环境）</title>
    <link href="https://blog.zhangcun.store/2022/06/30/docker-compose-bu-shu-apollo-springboot-zheng-he-duo-huan-jing/"/>
    <id>https://blog.zhangcun.store/2022/06/30/docker-compose-bu-shu-apollo-springboot-zheng-he-duo-huan-jing/</id>
    <published>2022-06-30T08:36:57.000Z</published>
    <updated>2022-06-30T08:37:09.046Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;pre&gt;&lt;code&gt;  1.前言
  由于项目需求，需要在单台服务器上部署apollo，并配置多环境，试了官网的快速开始docker，用里面的sh文件启动，实现多环境较为麻烦（需要该配置文件和脚本文件），后来在网上
  
  2. 部署说明
 </summary>
        
      
    
    
    
    
  </entry>
  
  <entry>
    <title>curl查看出口公网IP地址</title>
    <link href="https://blog.zhangcun.store/2022/06/30/curl-cha-kan-chu-kou-gong-wang-ip-di-zhi/"/>
    <id>https://blog.zhangcun.store/2022/06/30/curl-cha-kan-chu-kou-gong-wang-ip-di-zhi/</id>
    <published>2022-06-30T08:12:37.000Z</published>
    <updated>2022-06-30T08:12:57.920Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;使用一些内网服务器，有时候需要查看出口公网IP&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[root@docker02 ~]# curl ipinfo.io
&amp;#123;
  &amp;quot;ip&amp;quot;: &amp;quot;114.251.151.151&amp;quot;,  </summary>
        
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Nginx访问日志（access_log）配置及信息详解</title>
    <link href="https://blog.zhangcun.store/2022/06/30/nginx-fang-wen-ri-zhi-access-log-pei-zhi-ji-xin-xi-xiang-jie/"/>
    <id>https://blog.zhangcun.store/2022/06/30/nginx-fang-wen-ri-zhi-access-log-pei-zhi-ji-xin-xi-xiang-jie/</id>
    <published>2022-06-30T08:11:42.000Z</published>
    <updated>2022-06-30T08:11:46.167Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;pre&gt;&lt;code&gt;Nginx访问日志主要有两个参数控制：
log_format #用来定义记录日志的格式（可以定义多种日志格式，取不同名字即可）
access_log #用来指定日至文件的路径及使用的何种日志格式记录日志

#    log_format  main </summary>
        
      
    
    
    
    
  </entry>
  
  <entry>
    <title>隐藏Nginx版本号的简单方法</title>
    <link href="https://blog.zhangcun.store/2022/06/24/yin-cang-nginx-ban-ben-hao-de-jian-dan-fang-fa-1/"/>
    <id>https://blog.zhangcun.store/2022/06/24/yin-cang-nginx-ban-ben-hao-de-jian-dan-fang-fa-1/</id>
    <published>2022-06-24T04:52:48.000Z</published>
    <updated>2022-06-24T04:55:10.930Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Nginx默认是显示版本号的，其他人就可以看到你的服务器nginx版本是1.8.0。这样暴露出来的版本号就容易变成攻击者可利用的信息。所以，从安全的角度来说，隐藏版本号会相对安全些！&lt;/p&gt;
&lt;p&gt;具体步骤如下：&lt;/p&gt;
&lt;p&gt;1、进入nginx配置文件的目录（此目录根据安</summary>
        
      
    
    
    
    
  </entry>
  
  <entry>
    <title>python 2安装pip</title>
    <link href="https://blog.zhangcun.store/2022/06/20/python-2-an-zhuang-pip/"/>
    <id>https://blog.zhangcun.store/2022/06/20/python-2-an-zhuang-pip/</id>
    <published>2022-06-20T10:57:21.000Z</published>
    <updated>2022-06-20T10:58:43.535Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;安装python-pip工具&lt;/p&gt;
&lt;p&gt;先安装setup-tools&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;wget https://pypi.python.org/packages/2.7/s/setuptools/setuptools-0.6c11-py2.7.egg </summary>
        
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Ubuntu 中sendmail 的安装、配置与发送邮件的具体实现</title>
    <link href="https://blog.zhangcun.store/2022/06/20/ubuntu-zhong-sendmail-de-an-zhuang-pei-zhi-yu-fa-song-you-jian-de-ju-ti-shi-xian/"/>
    <id>https://blog.zhangcun.store/2022/06/20/ubuntu-zhong-sendmail-de-an-zhuang-pei-zhi-yu-fa-song-you-jian-de-ju-ti-shi-xian/</id>
    <published>2022-06-20T10:53:52.000Z</published>
    <updated>2022-06-20T10:55:26.673Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;pre&gt;&lt;code&gt;一、安装软件包

      

ubuntu中sendmail函数可以很方便的发送邮件，ubuntu sendmail先要安装两个包。

必需安装的两个包：

sudo apt-get install sendmail  

sudo apt-get</summary>
        
      
    
    
    
    
  </entry>
  
  <entry>
    <title>apt安装特定版本软件</title>
    <link href="https://blog.zhangcun.store/2022/06/20/apt-an-zhuang-te-ding-ban-ben-ruan-jian/"/>
    <id>https://blog.zhangcun.store/2022/06/20/apt-an-zhuang-te-ding-ban-ben-ruan-jian/</id>
    <published>2022-06-20T10:52:05.000Z</published>
    <updated>2022-06-20T10:52:07.555Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;sudo apt install</summary>
        
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Linux find查找指定文件 按照名称 然后cp拷贝到指定目录且指定文件名</title>
    <link href="https://blog.zhangcun.store/2022/06/20/linux-find-cha-zhao-zhi-ding-wen-jian-an-zhao-ming-cheng-ran-hou-cp-kao-bei-dao-zhi-ding-mu-lu-qie-zhi-ding-wen-jian-ming/"/>
    <id>https://blog.zhangcun.store/2022/06/20/linux-find-cha-zhao-zhi-ding-wen-jian-an-zhao-ming-cheng-ran-hou-cp-kao-bei-dao-zhi-ding-mu-lu-qie-zhi-ding-wen-jian-ming/</id>
    <published>2022-06-20T10:50:16.000Z</published>
    <updated>2022-06-20T10:50:48.002Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;pre&gt;&lt;code&gt; 1.先查看了查找文件的指令规范 就是 find指令 

        

Find命令的一般形式为：
find pathname -options [-print -exec -ok]
 

让我们来看看该命令的参数：
pathname:  </summary>
        
      
    
    
    
    
  </entry>
  
  <entry>
    <title>基于本地/Oracle官方jdk构建jdk镜像</title>
    <link href="https://blog.zhangcun.store/2022/06/20/ji-yu-ben-di-oracle-guan-fang-jdk-gou-jian-jdk-jing-xiang/"/>
    <id>https://blog.zhangcun.store/2022/06/20/ji-yu-ben-di-oracle-guan-fang-jdk-gou-jian-jdk-jing-xiang/</id>
    <published>2022-06-20T10:19:00.000Z</published>
    <updated>2022-06-20T10:19:48.782Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;1、基于本地jdk进行构建&lt;/p&gt;
&lt;p&gt;目录结构：&lt;/p&gt;
&lt;p&gt; Dockerfile&lt;/p&gt;
&lt;p&gt;jdk1.8.0_181.tar.gz&lt;/p&gt;
&lt;p&gt;Dokcerfile内容如下：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;FROM</summary>
        
      
    
    
    
    
  </entry>
  
  <entry>
    <title>crontab每周一执行一次</title>
    <link href="https://blog.zhangcun.store/2022/06/17/crontab-mei-zhou-yi-zhi-xing-yi-ci/"/>
    <id>https://blog.zhangcun.store/2022/06/17/crontab-mei-zhou-yi-zhi-xing-yi-ci/</id>
    <published>2022-06-17T08:11:19.000Z</published>
    <updated>2022-06-17T09:00:07.327Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;linux定时执行任务命令是我们在日常工作中经常用的，一般情况下，我们都是通过linux的crontab软件来实现，crontab是定时来执行一个命令或者一个脚本;但是如果你临时只执行一次命令的话，那么我们也可以采用at命令，同时可以实现我们的目标。&lt;/p&gt;
&lt;p&gt;先从cr</summary>
        
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Nginx 改变错误日志打印级别</title>
    <link href="https://blog.zhangcun.store/2022/06/17/nginx-gai-bian-cuo-wu-ri-zhi-da-yin-ji-bie/"/>
    <id>https://blog.zhangcun.store/2022/06/17/nginx-gai-bian-cuo-wu-ri-zhi-da-yin-ji-bie/</id>
    <published>2022-06-17T08:06:36.000Z</published>
    <updated>2022-06-17T08:07:05.811Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;Nginx 改变错误日志打印级别&lt;/p&gt;
&lt;p&gt;user  root;&lt;br&gt;worker_processes  2;&lt;/p&gt;
&lt;p&gt;worker_rlimit_nofile 10240;&lt;br&gt;error_log logs/nginx_error.log </summary>
        
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Ubuntu 18.04 编译安装 Python2.7.17</title>
    <link href="https://blog.zhangcun.store/2022/06/17/ubuntu-18-04-bian-yi-an-zhuang-python2-7-17/"/>
    <id>https://blog.zhangcun.store/2022/06/17/ubuntu-18-04-bian-yi-an-zhuang-python2-7-17/</id>
    <published>2022-06-17T08:01:52.000Z</published>
    <updated>2022-06-17T08:01:55.001Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;1、安装依赖&lt;/p&gt;
&lt;p&gt;sudo apt-get install build-essential checkinstall&lt;/p&gt;
&lt;p&gt;sudo apt-get install libreadline-gplv2-dev libncursesw5-dev</summary>
        
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Linux上如何查看物理CPU个数，核数，线程数</title>
    <link href="https://blog.zhangcun.store/2022/06/17/linux-shang-ru-he-cha-kan-wu-li-cpu-ge-shu-he-shu-xian-cheng-shu/"/>
    <id>https://blog.zhangcun.store/2022/06/17/linux-shang-ru-he-cha-kan-wu-li-cpu-ge-shu-he-shu-xian-cheng-shu/</id>
    <published>2022-06-17T07:42:43.000Z</published>
    <updated>2022-06-17T07:51:39.657Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;pre&gt;&lt;code&gt;  首先，看看什么是超线程概念
  
  超线程技术就是利用特殊的硬件指令，把两个逻辑内核模拟成两个物理芯片，让单个处理器都能使用线程级并行计算，进而兼容多线程操作系统和软件，减少了CPU的闲置时间，提高的CPU的运行效率。
 </summary>
        
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Linux设置UTC时区</title>
    <link href="https://blog.zhangcun.store/2022/06/17/linux-she-zhi-utc-shi-qu/"/>
    <id>https://blog.zhangcun.store/2022/06/17/linux-she-zhi-utc-shi-qu/</id>
    <published>2022-06-17T07:35:24.000Z</published>
    <updated>2022-06-17T07:35:47.865Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;pre&gt;&lt;code&gt;设置UTC时区命令

ln -sf /usr/share/zoneinfo/UTC /etc/localtime
 

具体案例：

执行前
[root@HOST etc]#cd /etc
[root@HOST etc]# ll | grep</summary>
        
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Nginx下同域部署多个Vue项目（history路由模式），报404、500错误</title>
    <link href="https://blog.zhangcun.store/2022/06/17/nginx-xia-tong-yu-bu-shu-duo-ge-vue-xiang-mu-history-lu-you-mo-shi-bao-404-500-cuo-wu/"/>
    <id>https://blog.zhangcun.store/2022/06/17/nginx-xia-tong-yu-bu-shu-duo-ge-vue-xiang-mu-history-lu-you-mo-shi-bao-404-500-cuo-wu/</id>
    <published>2022-06-17T07:26:46.000Z</published>
    <updated>2022-06-17T07:29:36.093Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;pre&gt;&lt;code&gt;一、环境
系统: windows
nginx: 1.20.2
nodejs: v10.24.0
npm: v6.14.11
@vue/cli:</summary>
        
      
    
    
    
    
  </entry>
  
  <entry>
    <title>apt查看安装包可用版本号</title>
    <link href="https://blog.zhangcun.store/2022/06/17/apt-cha-kan-an-zhuang-bao-ke-yong-ban-ben-hao/"/>
    <id>https://blog.zhangcun.store/2022/06/17/apt-cha-kan-an-zhuang-bao-ke-yong-ban-ben-hao/</id>
    <published>2022-06-17T06:24:50.000Z</published>
    <updated>2022-06-17T06:25:22.390Z</updated>
    
    
      
      
        
        
    <summary type="html">&lt;p&gt;例如要显示curl可安装的版本号：&lt;/p&gt;
&lt;p&gt;sudo apt-cache madison curl&lt;/p&gt;
&lt;p&gt;如果想看apt能安装哪些跟curl关键词相关的软件，运行以下命令，&lt;/p&gt;
&lt;p&gt;sudo apt-cache search</summary>
        
      
    
    
    
    
  </entry>
  
</feed>
